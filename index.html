<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Space Shooter Game - Three.js</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.159.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.159.0/examples/jsm/"
            }
        }
    </script>
</head>
<body>
    <!-- Game Container - Fixed size for vertical mobile layout -->
    <div id="game-container">
        <!-- Three.js Canvas sẽ được thêm vào đây -->
        <canvas id="game-canvas"></canvas>

        <!-- Main Menu -->
        <div id="main-menu" class="screen hidden">
            <div class="menu-container">
                <h1 class="game-title">SPACE SHOOTER</h1>
                <div class="menu-buttons">
                    <button id="btn-play" class="menu-btn primary">CHƠI</button>
                </div>
                <div class="menu-footer">
                    <p>Điểm cao nhất: <span id="high-score-display">0</span></p>
                </div>
            </div>
        </div>


        <!-- Game HUD -->
        <div id="game-hud" class="hidden">
            <div class="hud-top-left">
                <div id="boss-status" class="boss-status hud-hidden">
                    <div class="boss-icon-frame">
                        <img id="boss-icon" src="" alt="Boss icon">
                    </div>
                    <div class="boss-meta">
                        <div id="boss-name" class="boss-name">Boss</div>
                        <div class="boss-health-bar-wrapper">
                            <div id="boss-health-bar" class="boss-health-bar"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Top Right Bar -->
            <div class="hud-top-right">
                <div class="score-display">
                    <span class="hud-label">Điểm:</span>
                    <span id="score-value" class="hud-value">0</span>
                </div>
            </div>

            <div id="wave-banner" class="wave-banner hud-hidden">
                <span id="wave-banner-text">Wave 1</span>
            </div>
        </div>

        <!-- Pause Menu -->
        <div id="pause-menu" class="screen hidden">
            <div class="menu-container">
                <h2>TẠM DỪNG</h2>
                <div class="menu-buttons">
                    <button id="btn-resume" class="menu-btn primary">TIẾP TỤC</button>
                    <button id="btn-restart" class="menu-btn">CHƠI LẠI</button>
                    <button id="btn-quit" class="menu-btn">THOÁT</button>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="game-over-screen" class="screen hidden">
            <div class="menu-container">
                <h1 class="game-over-title" id="game-over-title">GAME OVER</h1>
                <div class="stars-rating" id="stars-rating">
                    <span class="star">★</span>
                    <span class="star">★</span>
                    <span class="star">★</span>
                </div>
                <div class="game-over-stats">
                    <div class="stat-item">
                        <span class="stat-label">Điểm số:</span>
                        <span id="final-score" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Cấp độ:</span>
                        <span id="final-level" class="stat-value">1</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Tiêu diệt:</span>
                        <span id="enemies-killed" class="stat-value">0</span>
                    </div>
                </div>
                <div class="menu-buttons">
                    <button id="btn-play-again" class="menu-btn primary">CHƠI LẠI</button>
                    <button id="btn-main-menu" class="menu-btn">MENU CHÍNH</button>
                </div>
            </div>
        </div>

        <!-- Loading Screen -->
        <div id="loading-screen" class="screen">
            <div class="loading-container">
                <p id="loading-text">Đang tải game...</p>
                <!-- Loading bar sẽ được tạo động bởi LoadingScene -->
            </div>
        </div>
    </div>

    <script type="module" src="./source/main.js"></script>
</body>
</html>
